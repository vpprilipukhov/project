{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EmailInput = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _input = require(\"./input\");\n\nvar validateEmail = function validateEmail(email) {\n  var re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return re.test(email);\n};\n\nvar EmailInput = function EmailInput(_ref) {\n  var value = _ref.value,\n      onChange = _ref.onChange,\n      name = _ref.name,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 'default' : _ref$size;\n\n  var _useState = (0, _react.useState)(true),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      fieldDisabled = _useState2[0],\n      setDisabled = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(false),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  var inputRef = (0, _react.useRef)(null);\n\n  var onIconClick = function onIconClick() {\n    setDisabled(false);\n    setTimeout(function () {\n      var _inputRef$current;\n\n      return (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.focus();\n    }, 0);\n  };\n\n  var validateField = function validateField(value) {\n    setError(!validateEmail(value));\n  };\n\n  var onFocus = function onFocus() {\n    setError(false);\n  };\n\n  var onBlur = function onBlur(e) {\n    if (e.target.value) {\n      validateField(e.target.value);\n    } else {\n      setError(false);\n    }\n\n    setDisabled(true);\n  };\n\n  return /*#__PURE__*/_react.default.createElement(_input.Input, {\n    type: \"email\",\n    placeholder: \"Email\",\n    onChange: onChange,\n    icon: 'EditIcon',\n    value: value,\n    ref: inputRef,\n    onBlur: onBlur,\n    onFocus: onFocus,\n    name: name,\n    error: error,\n    disabled: fieldDisabled,\n    onIconClick: onIconClick,\n    errorText: 'Ой, произошла ошибка!',\n    size: size\n  });\n};\n\nexports.EmailInput = EmailInput;\nEmailInput.displayName = \"EmailInput\";","map":{"version":3,"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","EmailInput","_slicedToArray2","_react","_input","validateEmail","email","re","test","_ref","onChange","name","_ref$size","size","_useState","useState","_useState2","default","fieldDisabled","setDisabled","_useState3","_useState4","error","setError","inputRef","useRef","onIconClick","setTimeout","_inputRef$current","current","focus","validateField","onFocus","onBlur","e","target","createElement","Input","type","placeholder","icon","ref","disabled","errorText","displayName"],"sources":["C:/work_project/myProject/node_modules/@ya.praktikum/react-developer-burger-ui-components/dist/ui/email-input.js"],"sourcesContent":["\"use strict\";var _interopRequireWildcard=require(\"@babel/runtime/helpers/interopRequireWildcard\");var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.EmailInput=void 0;require(\"core-js/modules/es.function.name.js\");var _slicedToArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));var _react=_interopRequireWildcard(require(\"react\"));var _input=require(\"./input\");var validateEmail=function validateEmail(email){var re=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;return re.test(email);};var EmailInput=function EmailInput(_ref){var value=_ref.value,onChange=_ref.onChange,name=_ref.name,_ref$size=_ref.size,size=_ref$size===void 0?'default':_ref$size;var _useState=(0,_react.useState)(true),_useState2=(0,_slicedToArray2.default)(_useState,2),fieldDisabled=_useState2[0],setDisabled=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=(0,_slicedToArray2.default)(_useState3,2),error=_useState4[0],setError=_useState4[1];var inputRef=(0,_react.useRef)(null);var onIconClick=function onIconClick(){setDisabled(false);setTimeout(function(){var _inputRef$current;return(_inputRef$current=inputRef.current)===null||_inputRef$current===void 0?void 0:_inputRef$current.focus();},0);};var validateField=function validateField(value){setError(!validateEmail(value));};var onFocus=function onFocus(){setError(false);};var onBlur=function onBlur(e){if(e.target.value){validateField(e.target.value);}else{setError(false);}setDisabled(true);};return/*#__PURE__*/_react.default.createElement(_input.Input,{type:\"email\",placeholder:\"Email\",onChange:onChange,icon:'EditIcon',value:value,ref:inputRef,onBlur:onBlur,onFocus:onFocus,name:name,error:error,disabled:fieldDisabled,onIconClick:onIconClick,errorText:'Ой, произошла ошибка!',size:size});};exports.EmailInput=EmailInput;EmailInput.displayName=\"EmailInput\";"],"mappings":"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"},"metadata":{},"sourceType":"script"}